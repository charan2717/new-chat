{% extends "base.html" %}
{% block body %}
<h2>Welcome, {{ username }}</h2>
<a href="{{ url_for('logout') }}">Logout</a>

<h3>Existing Rooms</h3>
<ul>
    {% for room in rooms %}
    <li><a href="{{ url_for('chat_room', room=room) }}">{{ room }}</a></li>
    {% else %}
    <li>No chats yet</li>
    {% endfor %}
</ul>

<h3>Start New Chat</h3>
<ul>
    {% for user in users %}
    <li>
        <form method="POST" action="{{ url_for('direct_room') }}">
            <input type="hidden" name="other" value="{{ user.username }}">
            <button type="submit">{{ user.username }}</button>
        </form>
    </li>
    {% else %}
    <li>No other users registered</li>
    {% endfor %}
</ul>
{% endblock %}
